# Default JMX metrics

collect:
    - domain: java.lang # Event type JavaLangSample
      beans:
        - query: type=Memory # Collects all beans with the type Memory
          attributes:
              # When alias is unspecified, defaults to a scheme like jmx.type.filter2.attribute
              - HeapMemoryUsage.Max # Dot syntax allows us to collect composite variables
              - NonHeapMemoryUsage.Max 
        - query: type=GarbageCollector,name=*
          exclude_regex: 
              - name=G1 Young Generation
          attributes:
              - attr: LastGcInfo.GcThreadCount
                metric_type: gauge
                # With star queries, aliases must contain the starred fields so all metric names are unique
                metric_name: jmx.gcThreadCount
              - attr_regex: Collection.*
                metric_type: gauge
              - attr_regex: .*
    - domain: kafka.* # Domains can be wildcarded
      event_type: KafkaSample # If a domain is wildcarded, a custom event type must be defined
      beans:
          - query: type=Processor,name=IdlePercent,networkProcessor=* # if no attributes are specified, collect all
          - query: type=RequestMetrics,name=ErrorsPerSec,request=AlterConfigs,error=NONE
            attributes:
                - attr: OneMinuteRate
                  metric_type: rate
            


      
